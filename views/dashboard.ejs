<%- include('partials/header', {title: 'Tarot Journal Home', user: user }) -%>

<form action="dashboard/save-reading" onsubmit="return validateInterpretation()" id="interpretation-window"
    method="POST"
    class="z-50 w-1/3 draggable interpretation-window border-4 border-accent p-0.5 bg-offwhite flex flex-col">


    <div id="interpretation-window-header" class="bg-primary text-offwhite text-center py-1 cursor-move">
        <i class="fa-solid fa-window-maximize fa-lg text-offwhite cursor-pointer absolute right-0 mr-3 mt-3"
            id="interpretation-minimize"></i>
        <h3> Interpretation</h3>
    </div>

    <section class="interpretation-body flex flex-col mx-3" id="interpretation-body-container">
        <label for="question">Question</label>
        <textarea name="question" id="querent-question" cols="30" rows="1" placeholder="What question do you have for the cards?"></textarea>

        <div class="interpretation-body flex flex-col hide mt-4" id="interpretation-body">
            <div class="flex gap-2">
                <label for="interpretationPast">Past:</label>
                <span id="pastInterpretationCard"></span>
            </div>
            <input type="hidden" name="pastInterpretationCardId" id='pastInterpretationCardId'
                class='interpretation-card-id'>
            <textarea name="interpretationPast" id="interpretationPast" cols="30" rows="1"></textarea>

            <div class="flex gap-2">
                <label for="interpretationPresent">Present:</label>
                <span id="presentInterpretationCard"></span>
            </div>
            <input type="hidden" name="presentInterpretationCardId" id='presentInterpretationCardId'
                class='interpretation-card-id'>
            <textarea name="interpretationPresent" id="interpretationPresent" cols="30" rows="1"></textarea>

            <div class="flex gap-2">
                <label for="interpretationFuture">Future:</label>
                <span id="futureInterpretationCard"></span>
            </div>
            <input type="hidden" name="futureInterpretationCardId" id='futureInterpretationCardId'
                class='interpretation-card-id'>
            <textarea name="interpretationFuture" id="interpretationFuture" cols="30" rows="1"></textarea>
        </div>
    </section>
    <button type="submit" class="text-5x1 font-bold btn btn-primary m-5">Submit</button>
</form>

<h1 class="text-5x1 font-bold text-center my-5">Tarot Reading for <%=user.username-%></h1>

<div class="flex justify-center">
    <select name="spread-select" id="spread-select" class="mt-4"></select>
</div>

<main class="hero my-10">

    <section class="flex justify-around mx-8 gap-6">
        <section class="flex flex-col" id="deck-container">
            <article class="card tarot-container items-center justify-center deck-container">
                <img src="" alt="Deck" id="deck-image" class="object-cover">
            </article>
            <select name="cardback-select" id="cardback-select" class="mt-4" onchange="setCardbacks(this.value)"></select>
        </section>

        <section class="flex flex-col">
            <section class="flex gap-2">
                <article class="card w-1/3 border-primary border-2 tarot-container items-center justify-center"
                    id="spread-position-past" data-spread-position="past">
                    <span> Past </span>
                </article>
                <article class="card w-1/3 border-primary border-2 tarot-container items-center justify-center"
                    id="spread-position-present" data-spread-position="present">
                    <span> Present </span>
                </article>
                <article class="card w-1/3 border-primary border-2 tarot-container items-center justify-center"
                    id="spread-position-future" data-spread-position="future">
                    <span> Future </span>
                </article>
            </section>
            <select name="cardface-select" id="cardface-select" class="mt-4 w-fit">

            </select>
        </section>
    </section>
</main>

<section class="flex justify-center gap-3" id="reading-description">
    <article id="slot-description" class="w-1/3 border-2 border-primary text-center py-2 px-8">
        <p class="descriptor-text"> Slot description</p>
        <p id="slot-title" class="font-bold capitalize"></p>
        <p id="slot-description-text" class="text-left"></p>

    </article>
    <article id="card-description" class="w-3/5 border-2 border-primary text-center py-2 px-8">
        <p class="descriptor-text">Card description</p>
        <p>
            <span id="card-number" class="font-bold"></span> <span id="card-suit" class="font-bold"></span>
        </p>
        <p id="up-keywords" class="italic"></p>
        <p id="up-description" class="description text-left"></p>
        <p id="saysReversed" class="font-bold italic hidden mt-4">Reversed</p>
        <p id="rev-keywords" class="italic"></p>
        <p id="rev-description" class="description text-left"></p>
    </article>
</section>




<%if(user.access=='admin') {%> <section class="flex justify-center">
    <fieldset class="border-primary border-2 w-3/4 flex justify-center">
        <legend class="mx-2">Admin Tools</legend>
        <span class="text-5x1 font-bold my-4 btn btn-primary"><a href="/admin/edit-collection">Add
                Card</a></span>
    </fieldset>
</section>
<%}%>

<%- include('partials/footer') -%>

<script src="/js/main.js"></script>
</body>

</html>